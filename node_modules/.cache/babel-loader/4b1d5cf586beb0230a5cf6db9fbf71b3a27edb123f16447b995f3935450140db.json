{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useNavigate,useLocation}from'react-router-dom';import'./ConfirmationPage.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ConfirmationPage=()=>{var _location$state;const location=useLocation();const navigate=useNavigate();const booking=(_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.booking;const[showNotification,setShowNotification]=useState(true);useEffect(()=>{// Redirect if no booking data\nif(!booking){navigate('/movies');}// Hide notification after 5 seconds\nconst timer=setTimeout(()=>{setShowNotification(false);},5000);return()=>clearTimeout(timer);},[booking,navigate]);const handleBackToMovies=()=>{navigate('/movies');};if(!booking){return null;}return/*#__PURE__*/_jsxs(\"div\",{className:\"confirmation-container\",children:[showNotification&&/*#__PURE__*/_jsx(\"div\",{className:\"success-notification\",children:\"\\u2705 Booking confirmed successfully!\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"confirmation-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"success-icon\",children:\"\\u2713\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"Booking Confirmed!\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"booking-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"Booking ID:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"detail-value\",children:booking.bookingId})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"Movie:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"detail-value\",children:booking.movie})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"Location:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"detail-value\",children:booking.location})]}),booking.showtime&&/*#__PURE__*/_jsxs(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"Showtime:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"detail-value\",children:booking.showtime})]}),booking.showDate&&/*#__PURE__*/_jsxs(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"Show Date:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"detail-value\",children:new Date(booking.showDate).toLocaleDateString()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"Number of Seats:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"detail-value\",children:booking.seats})]}),typeof booking.totalAmount==='number'&&/*#__PURE__*/_jsxs(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"Total Amount:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"detail-value\",children:[\"\\u20B9\",booking.totalAmount]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"Booking Date:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"detail-value\",children:new Date(booking.createdAt).toLocaleString()})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleBackToMovies,className:\"back-btn\",children:\"Back to Movies\"})]})]});};export default ConfirmationPage;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","useLocation","jsx","_jsx","jsxs","_jsxs","ConfirmationPage","_location$state","location","navigate","booking","state","showNotification","setShowNotification","timer","setTimeout","clearTimeout","handleBackToMovies","className","children","bookingId","movie","showtime","showDate","Date","toLocaleDateString","seats","totalAmount","createdAt","toLocaleString","onClick"],"sources":["D:/bookmyshow/bookmyshow/client/src/pages/ConfirmationPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport './ConfirmationPage.css';\r\n\r\nconst ConfirmationPage = () => {\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const booking = location.state?.booking;\r\n  const [showNotification, setShowNotification] = useState(true);\r\n\r\n  useEffect(() => {\r\n    // Redirect if no booking data\r\n    if (!booking) {\r\n      navigate('/movies');\r\n    }\r\n\r\n    // Hide notification after 5 seconds\r\n    const timer = setTimeout(() => {\r\n      setShowNotification(false);\r\n    }, 5000);\r\n\r\n    return () => clearTimeout(timer);\r\n  }, [booking, navigate]);\r\n\r\n  const handleBackToMovies = () => {\r\n    navigate('/movies');\r\n  };\r\n\r\n  if (!booking) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"confirmation-container\">\r\n      {showNotification && (\r\n        <div className=\"success-notification\">\r\n          ✅ Booking confirmed successfully!\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"confirmation-card\">\r\n        <div className=\"success-icon\">✓</div>\r\n        <h1>Booking Confirmed!</h1>\r\n\r\n        <div className=\"booking-details\">\r\n          <div className=\"detail-row\">\r\n            <span className=\"detail-label\">Booking ID:</span>\r\n            <span className=\"detail-value\">{booking.bookingId}</span>\r\n          </div>\r\n\r\n          <div className=\"detail-row\">\r\n            <span className=\"detail-label\">Movie:</span>\r\n            <span className=\"detail-value\">{booking.movie}</span>\r\n          </div>\r\n\r\n          <div className=\"detail-row\">\r\n            <span className=\"detail-label\">Location:</span>\r\n            <span className=\"detail-value\">{booking.location}</span>\r\n          </div>\r\n\r\n          {booking.showtime && (\r\n            <div className=\"detail-row\">\r\n              <span className=\"detail-label\">Showtime:</span>\r\n              <span className=\"detail-value\">{booking.showtime}</span>\r\n            </div>\r\n          )}\r\n\r\n          {booking.showDate && (\r\n            <div className=\"detail-row\">\r\n              <span className=\"detail-label\">Show Date:</span>\r\n              <span className=\"detail-value\">\r\n                {new Date(booking.showDate).toLocaleDateString()}\r\n              </span>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"detail-row\">\r\n            <span className=\"detail-label\">Number of Seats:</span>\r\n            <span className=\"detail-value\">{booking.seats}</span>\r\n          </div>\r\n\r\n          {typeof booking.totalAmount === 'number' && (\r\n            <div className=\"detail-row\">\r\n              <span className=\"detail-label\">Total Amount:</span>\r\n              <span className=\"detail-value\">₹{booking.totalAmount}</span>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"detail-row\">\r\n            <span className=\"detail-label\">Booking Date:</span>\r\n            <span className=\"detail-value\">\r\n              {new Date(booking.createdAt).toLocaleString()}\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        <button onClick={handleBackToMovies} className=\"back-btn\">\r\n          Back to Movies\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ConfirmationPage;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}